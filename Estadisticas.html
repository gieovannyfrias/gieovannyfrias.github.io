<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=3.0, minimum-scale=1.0">
   <link rel="icon" href="https://lh3.googleusercontent.com/d/1MDXpTD3Flv-QP1GgV-fLViPOf_CtVBjA=w1000" type="image/x-icon">
      <script src="https://use.fontawesome.com/releases/v5.12.0/js/all.js" data-search-pseudo-elements></script>  
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8616709924287043"
     crossorigin="anonymous"></script>
  <meta name="google-adsense-account" content="ca-pub-8616709924287043">
<script async src="https://fundingchoicesmessages.google.com/i/pub-8616709924287043?ers=1"></script><script>(function() {function signalGooglefcPresent() {if (!window.frames['googlefcPresent']) {if (document.body) {const iframe = document.createElement('iframe'); iframe.style = 'width: 0; height: 0; border: none; z-index: -1000; left: -1000px; top: -1000px;'; iframe.style.display = 'none'; iframe.name = 'googlefcPresent'; document.body.appendChild(iframe);} else {setTimeout(signalGooglefcPresent, 0);}}}signalGooglefcPresent();})();</script>
  
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  
    <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap" rel="stylesheet">
  
   <meta name="title" content="Estadisticas"/>

    <meta name="description" content="Estadisticas oficiales de todo el mundo!"/>
    <meta name="robots" content="index"/>
<meta name="robots" content="follow"/>
<meta name="keywords" content="gieovannyfrias,gieovanny"/>
</head>
<body>
  
  <h1>Â¡Â¡ESTADISTICAS GLOBALES!!</h1>

  <div class="#" id="map"></div>

  <div class="charts">
    <div class="cnv_0">
    <canvas class="cnv_1" id="donutChart"></canvas>
    </div>
    <div class="cnv_0">
    <canvas class="cnv_2" id="barChart"></canvas>
    </div>
    <div class="cnv_0">
    <canvas class="cnv_3" id="lineChart"></canvas>
    </div>
  </div>

  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  
  <section>
    <h1>DEMOGRAFICOS</h1>
    <div class="container max-w-5xl mx-auto px-8">
      <div class="card-wraper">
        <div class="background" id="background"></div>
        <a href="javascript:void(0)" class="card relative group block p-2 h-full w-full">
          <div class="card-main">
            <div class="card-inner">
              <div>
                <h3>Genero</h3>
                <p>Genero de hombres y mujeres</p>
                  <section>
    <h2>GÃ©nero</h2>
    <canvas id="genderChart" width="300" height="300"></canvas>
    <div class="legend" id="genderLegend"></div>
  </section>
              </div>
            </div>
          </div>
        </a>
        <a href="javascript:void(0)" class="card relative group block p-2 h-full w-full">
          <div class="card-main">
            <div class="card-inner">
              <div>
                <h3>Edad</h3>
                <p></p>
                <div class="graficas_anillos">
                <section>
    <h2>Edad de personas</h2>
    <canvas id="ageChart" width="300" height="300"></canvas>
    <div class="legend" id="ageLegend"></div>
  </section>
                </div>
              </div>
            </div>
          </div>
        </a>
        <a href="javascript:void(0)" class="card relative group block p-2 h-full w-full">
          <div class="card-main">
            <div class="card-inner">
              <div>
                <h3>Pais</h3>
                <p>5 continenetes.</p>
                                <div class="graficas_anillos">
                                  <section>
                   <h2>PaÃ­s</h2>
    <canvas id="countryChart" width="300" height="300"></canvas>
    <div class="legend" id="countryLegend"></div>
  </section>
                </div>
              </div>
            </div>
          </div>
        </a>
        <a href="javascript:void(0)" class="card relative group block p-2 h-full w-full">
          <div class="card-main">
            <div class="card-inner">
              <div>
                <h3>Seguidores totales</h3>
                <p>Se registro +1.000.000.</p>
              </div>
            </div>
          </div>
        </a>
        <a href="javascript:void(0)" class="card relative group block p-2 h-full w-full">
          <div class="card-main">
            <div class="card-inner">
              <div>
                <h3>Streamer totales</h3>
                <p>Se registro con un total de +1.102.471</p>
              </div>
            </div>
          </div>
        </a>
        <a href="javascript:void(0)" class="card relative group block p-2 h-full w-full">
          <div class="card-main">
            <div class="card-inner">
              <div>
                <h3>Compromiso</h3>
                <p>Se basa aproximado de un 2.82% posibilidad.</p>
              </div>
            </div>
          </div>
        </a>
      
        <!-- primer anuncio de adesense y para agregarle un segundo anuncio se copia el mismo pero ponlo donde quieres que se coloque -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-8616709924287043"
     data-ad-slot="8096037585"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      </div>
    </div>
  </section>
  
  <style>
  * {
 margin:0;
border: 0;         
box-sizing: border-box;
}
  body {
  margin: 0;
  font-family: 'Segoe UI', sans-serif;
  background-color: black;
  text-align: center;
}

h1 {
  margin: 20px;
  color: white;
    margin-bottom: 40px;
 transform: matrix(1, -0.20, 0, 1, 0, 0);
  -ms-transform: matrix(1, -0.20, 0, 1, 0, 0);
  -webkit-transform: matrix(1, -0.20, 0, 1, 0, 0);
}
#map {
  height: 50vh;
  width: 100%;
  z-index: 1;
  position: relative;
  top:100px;
}
    .cnv_0{
     display:flex;
        align-items:center;
        justify-content:center;
        width: 1452px;
        height: 852px;  
        background-color: #28292a;
        margin: 5em;
        border-radius: 0.5em;

    }
     .cnv_0:hover {
  box-shadow: 0 0 34px white;
}
      @media only screen and (min-width:320px) and (max-width:1200px){
        .cnv_0{
 width: 80%;
        height: 400px;
        }
    }
          
    .cnv_1{
      position: relative;
    margin-top: 20px;
      max-height: 400px;
    max-width: 200px;
    }
    .cnv_2{
      position: relative;
    margin-top: 20px;
    }
    .cnv_3{
          position: relative;
    margin-top: 20px;
    }
.charts {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 30px;
  padding: 30px;
}
      @media only screen and (min-width:320px) and (max-width:1200px){
        .charts{
         display: grid;
        padding: 0;
        justify-content: end;
          
        }
        }
           @media only screen and (min-width:500px) and (max-width:800px){
        .charts{
          grid-template-columns: repeat(1, minmax(0, 1fr));
             }
    }
            @media only screen and (min-width:800px) and (max-width:1000px){
        .charts{
          grid-template-columns: repeat(1, minmax(0, 1fr));
             }
    }
            @media only screen and (min-width:1000px) and (max-width:1200px){
        .charts{
          grid-template-columns: repeat(1, minmax(0, 1fr));
             }
    }
canvas {
  max-width: 400px;
  width: 100%;
}
/*card*/
    section {
  height: 100%;
}
.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 40px 0;
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100%;
  min-height: 710px;
}
h3 {
  font-size: 30px;
  margin-bottom: 20px;
  font-weight: 600;
  color: #d3d1d1;
}
p {
  font-size: 18px;
  font-weight: 400;
  color: #d3d1d1;
  overflow: hidden;
  text-overflow: ellipsis;
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
}
a.zoomed p {
  -webkit-line-clamp: unset;
}
a.zoomed .card-inner {
  overflow: auto;
}
a.opacity-0 {
  opacity: 0;
}
.overflow {
  overflow: hidden;
}
.overflow .background {
  opacity: 0 !important;
}

.background {
  background-color: white;
  border-radius: 20px;
  position: absolute;
  transition: all 0.4s ease-in-out;
  opacity: 0;
}
.card-wraper {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  justify-content: space-between;
  z-index: 1;
}
    
a.card {
  text-decoration: none;
  height: 100%;
  /*width: 100%;*/
  display: inline-block;
  position: relative;
  padding: 10px;
}
.card-main {
 /* border: 10px solid white;*/
  padding: 40px;
  /*width: 100%;
  height: 100%;*/
  min-height: 300px;
  border-radius: 20px;
  overflow: hidden;
  background-color: #28292a;
}
.card:hover .card-main {
  position: relative;
  z-index: 20;
}
.card-inner {
  position: relative;
  z-index: 50;
  height: 100%;
}
.card-inner div {
  height: 100%;
  background: transparent;
  color: white;
}
img {
  height: 100%;
  width: 100%;
}



  @media only screen and (min-width:320px) and (max-width:1200px){
  .container {
    max-width: 100%;
  }
  .card-wraper {
    grid-template-columns: repeat(1, minmax(0, 1fr));
  }
  .card-main {
    padding: 40px;
  }
  a.card {
    padding: 10px;
  }
}
    /*grafica de anillos*/
    .graficas_anillos {
  font-family: Arial, sans-serif;
  text-align: center;
  margin: 40px;
  background-color: #f9f9f9;
}



section {
  margin-bottom: 60px;
}

canvas {
  max-width: 300px;
}

.legend {
  margin-top: 20px;
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 10px;
}

.legend-item {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 14px;
}

.color-box {
  width: 14px;
  height: 14px;
  border-radius: 3px;
    } 

  </style>
                  <!-- La ruta debe recorrer todas las carpetas -->
<script src="src/components/Header/header.js" defer></script>
<script src="src/components/Footer/footer.js" defer></script>
  <script>
  
  // Inicializa el mapa
const map = L.map('map').setView([20, 0], 2);

L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
  attribution: 'Â© OpenStreetMap contributors'
}).addTo(map);

// Datos por regiÃ³n
const regiones = [
  { nombre: "LatinoamÃ©rica", porcentaje: 60, coords: [-15, -60], emoji: "ðŸŒŽ" },
  { nombre: "AmÃ©rica del Norte", porcentaje: 20, coords: [40, -100], emoji: "ðŸ—½" },
  { nombre: "Europa", porcentaje: 10, coords: [50, 10], emoji: "ðŸ°" },
  { nombre: "Asia", porcentaje: 6, coords: [30, 100], emoji: "ðŸ•Œ" },
  { nombre: "OceanÃ­a", porcentaje: 2, coords: [-25, 135], emoji: "ðŸï¸" },
  { nombre: "Ãfrica", porcentaje: 0.2, coords: [0, 20], emoji: "ðŸ¦" }
];

// Marcadores en el mapa
regiones.forEach(region => {
  const popup = `
    <strong>${region.nombre}</strong><br>
    ${region.emoji} Actividad: <strong>${region.porcentaje}%</strong>
  `;
  L.marker(region.coords).addTo(map).bindPopup(popup);
});

// Colores para los grÃ¡ficos
const colores = ['#4CAF50', '#2196F3', '#FFC107', '#FF5722', '#9C27B0', '#607D8B'];

// Donut Chart
new Chart(document.getElementById('donutChart'), {
  type: 'doughnut',
  data: {
    labels: regiones.map(r => r.nombre),
    datasets: [{
      data: regiones.map(r => r.porcentaje),
      backgroundColor: colores
    }]
  },
  options: {
    plugins: {
      title: {
        display: true,
        text: 'DistribuciÃ³n de Actividad (%)'
      },
      legend: {
        position: 'bottom'
      }
    }
  }
});

// Bar Chart
new Chart(document.getElementById('barChart'), {
  type: 'bar',
  data: {
    labels: regiones.map(r => r.nombre),
    datasets: [{
      label: 'Actividad (%)',
      data: regiones.map(r => r.porcentaje),
      backgroundColor: colores
    }]
  },
  options: {
    plugins: {
      title: {
        display: true,
        text: 'Actividad por RegiÃ³n'
      }
    },
    scales: {
      y: {
        beginAtZero: true
      }
    }
  }
});

// Line Chart
new Chart(document.getElementById('lineChart'), {
  type: 'line',
  data: {
    labels: regiones.map(r => r.nombre),
    datasets: [{
      label: 'Actividad (%)',
      data: regiones.map(r => r.porcentaje),
      borderColor: '#2196F3',
      backgroundColor: 'rgba(33, 150, 243, 0.2)',
      fill: true,
      tension: 0.3
    }]
  },
  options: {
    plugins: {
      title: {
        display: true,
        text: 'Tendencia de Actividad Global'
      }
    },
    scales: {
      y: {
        beginAtZero: true
      }
    }
  }
});
/*card*/
    document.addEventListener("DOMContentLoaded", function () {
  var cards = document.querySelectorAll("a.card");
  var background = document.querySelector(".background");

  // Store the index of the last hovered card
  var lastHoveredCardIndex = localStorage.getItem("lastHoveredCardIndex") || 0;

  // Set the background to the last hovered card by default
  var cardRect = cards[lastHoveredCardIndex].getBoundingClientRect();
  var x = cardRect.left + window.scrollX + cardRect.width / 2;
  var y = cardRect.top + window.scrollY + cardRect.height / 2;

  background.style.width = cardRect.width + "px";
  background.style.height = cardRect.height + "px";
  background.style.transform = `translate(${x - cardRect.width / 2}px, ${
    y - cardRect.height / 2
  }px)`;
  background.style.opacity = "0"; // Set opacity to 0 when the page loads

  cards.forEach(function (card, index) {
    card.addEventListener("mouseenter", function (e) {
      // If the card is zoomed in, return early to prevent the hover effect
      if (card.classList.contains("zoomed")) {
        return;
      }

      var rect = card.getBoundingClientRect();
      x = rect.left + window.scrollX + rect.width / 2;
      y = rect.top + window.scrollY + rect.height / 2;

      background.style.width = rect.width + "px";
      background.style.height = rect.height + "px";
      background.style.transform = `translate(${x - rect.width / 2}px, ${
        y - rect.height / 2
      }px)`;
      background.style.opacity = "1"; // Change opacity to 1 when a card is hovered over
      background.style.top = "0%";
      background.style.left = "0%";
      background.style.transformOrigin = "center";
      // Store the index of the hovered card
      localStorage.setItem("lastHoveredCardIndex", index);
    });

    card.addEventListener("mouseleave", function (e) {
      background.style.opacity = "0"; // Change opacity back to 0 when the mouse leaves a card
      // Reset the background size when the mouse leaves the card
      background.style.width = "0px";
      background.style.height = "0px";
    });

    card.addEventListener("click", function () {
      if (card.classList.contains("zoomed")) {
        card.classList.remove("zoomed");
        card.style.transform = "none";
        card.style.position = "relative";
        card.style.width = "unset";
        card.style.height = "unset";
        card.style.top = "0";
        card.style.left = "0";
        card.style.zIndex = "0";

        // Remove the 'overflow' class from the body when a card is unzoomed
        document.body.classList.remove("overflow");

        // Remove the 'opacity-0' class from other <a> tags when a card is unzoomed
        cards.forEach(function (otherCard) {
          if (otherCard !== card) {
            otherCard.classList.remove("opacity-0");
          }
        });
      } else {
        card.classList.add("zoomed");
        card.style.position = "fixed";
        card.style.top = "50%";
        card.style.left = "50%";
        requestAnimationFrame(function () {
          card.style.transform = "translate(-50%, -50%)";
        });
        card.style.width = "90vw";
        card.style.height = "90vh";
        card.style.zIndex = "1000";

        // Add the 'overflow' class to the body when a card is zoomed
        document.body.classList.add("overflow");

        // Add the 'opacity-0' class to other <a> tags when a card is zoomed
        cards.forEach(function (otherCard) {
          if (otherCard !== card) {
            otherCard.classList.add("opacity-0");
          }
        });
      }
    });
  });
});
    /*grafica de anillos*/
    function animateDonutChart(canvasId, legendId, data) {
  const canvas = document.getElementById(canvasId);
  const ctx = canvas.getContext('2d');
  const radius = canvas.width / 2;
  const innerRadius = radius * 0.6;
  const total = data.reduce((sum, item) => sum + item.value, 0);

  let progress = 0;
  const animationSpeed = 0.02;
  let angles = [];
  let selectedText = '';

  function drawFrame() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    let startAngle = -0.5 * Math.PI;
    angles = [];

    data.forEach(item => {
      const sliceAngle = (item.value / total) * 2 * Math.PI;
      const endAngle = startAngle + sliceAngle * progress;

      ctx.beginPath();
      ctx.moveTo(radius, radius);
      ctx.arc(radius, radius, radius, startAngle, endAngle);
      ctx.closePath();
      ctx.fillStyle = item.color;
      ctx.fill();

      angles.push({ start: startAngle, end: startAngle + sliceAngle, label: item.label, value: item.value });

      startAngle += sliceAngle;
    });

    // CÃ­rculo interior para efecto de anillo
    ctx.beginPath();
    ctx.arc(radius, radius, innerRadius, 0, 2 * Math.PI);
    ctx.fillStyle = '#fff';
    ctx.fill();

    // Texto en el centro
    if (selectedText) {
      ctx.fillStyle = '#333';
      ctx.font = 'bold 16px Arial';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';
      ctx.fillText(selectedText, radius, radius);
    }

    if (progress < 1) {
      progress += animationSpeed;
      requestAnimationFrame(drawFrame);
    }
  }

  drawFrame();

  canvas.addEventListener('click', function (e) {
    const rect = canvas.getBoundingClientRect();
    const x = e.clientX - rect.left;
    const y = e.clientY - rect.top;
    const dx = x - radius;
    const dy = y - radius;
    const distance = Math.sqrt(dx * dx + dy * dy);

    if (distance < innerRadius || distance > radius) return;

    let angle = Math.atan2(dy, dx);
    if (angle < -0.5 * Math.PI) angle += 2 * Math.PI;

    angles.forEach(segment => {
      if (angle >= segment.start && angle <= segment.end) {
        selectedText = `${segment.label}: ${segment.value}%`;
        drawFrame(); // Redibuja con texto
      }
    });
  });

  const legendContainer = document.getElementById(legendId);
  data.forEach(item => {
    const div = document.createElement('div');
    div.className = 'legend-item';
    div.innerHTML = `<div class="color-box" style="background:${item.color}"></div> ${item.label} (${item.value}%)`;
    legendContainer.appendChild(div);
  });
}

// GÃ©nero
animateDonutChart('genderChart', 'genderLegend', [
  { label: 'Hombres', value: 40, color: '#3498db' },
  { label: 'Mujeres', value: 60, color: '#e74c3c' }
]);

// Edad
animateDonutChart('ageChart', 'ageLegend', [
  { label: '13-17', value: 10, color: '#1abc9c' },
  { label: '18-24', value: 47, color: '#3498db' },
  { label: '25-34', value: 33, color: '#9b59b6' },
  { label: '35-44', value: 7, color: '#f1c40f' },
  { label: '45-54', value: 4, color: '#e67e22' },
  { label: '55-64', value: 2, color: '#e74c3c' },
  { label: 'MÃ¡s de 65', value: 1, color: '#7f8c8d' }
]);

// PaÃ­s
animateDonutChart('countryChart', 'countryLegend', [
  { label: 'MÃ©xico', value: 56, color: '#1abc9c' },
  { label: 'Estados Unidos', value: 4, color: '#3498db' },
  { label: 'CanadÃ¡', value: 7, color: '#9b59b6' },
  { label: 'EspaÃ±a', value: 29, color: '#f1c40f' },
  { label: 'Argentina', value: 14, color: '#e67e22' },
  { label: 'Colombia', value: 26, color: '#e74c3c' }
]);

  </script>
</body>
</html>
